(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{145:function(e,t,a){e.exports=a.p+"static/media/logo-dark.eaacb92f.svg"},147:function(e,t,a){e.exports=a(280)},155:function(e,t,a){},279:function(e,t,a){},280:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(44),l=a.n(c),i=a(10),o=a(8),s=a(146),u=(a(155),a(12)),m=a(140),d=a(31),p=a(26),E=a(25);var f=function(){return r.a.createElement(m.a,{fluid:!0,className:"home-jumbotron"},r.a.createElement(d.a,null,r.a.createElement(p.a,null,r.a.createElement(E.a,{xs:!0,lg:"5",md:"7"},r.a.createElement("div",{className:"heading-card paper-bg"},r.a.createElement("div",{className:"heading-content"},r.a.createElement("h1",{className:"heading-h1"},"Add your recipe to share it with the world or search through the existing ones to get inspired")))))))},h=a(50);var v=function(){return r.a.createElement("div",{className:"horizontal-line"})};var g=function(e){var t=e.createDate,a=e.updateDate,n=e.authorName,c=e.style,l=function(e){var t=new Date(e),a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()];return"".concat(t.getDate()," ").concat(a," ").concat(t.getFullYear())};return r.a.createElement("div",{className:"create-info",style:c},r.a.createElement("div",null,r.a.createElement("span",{className:"label"},"Posted:"),l(t)),r.a.createElement("div",null,r.a.createElement("span",{className:"label"},"Edited:"),l(a)),r.a.createElement("div",null,r.a.createElement("span",{className:"label"},"By:"),n))};var b=function(e){var t=e.ingredients;return r.a.createElement("div",{className:"ingredients"},r.a.createElement("h4",null,"Ingredients:"),r.a.createElement("ul",{className:"ingredients-list"},t.map(function(e,t){return r.a.createElement("li",{key:t,className:"ingredients-item"},e)})))};var y=function(e){var t=e.title;return r.a.createElement("h3",{className:"recipe-title"},r.a.createElement("span",{className:"name-line"}),r.a.createElement("span",{className:"name-text"},t),r.a.createElement("span",{className:"name-line"}))},N=a(43),O=a(141),R=a.n(O),j=a(17),w=a(28),S=a.n(w),C=a(64),k=a(22),_=a.n(k),A=a(18),x=Object(A.a)(),T=a(142),I=a.n(T),L=function(e){return{type:"GET_ERRORS",payload:e}},D=function(){return{type:"CLEAR_ERRORS"}},F=function(e){e?_.a.defaults.headers.common.Authorization=e:delete _.a.defaults.headers.common.Authorization},P=function(){var e=localStorage.getItem("token");return e?{type:"AUTH_SUCCESS",payload:I()(e)}:{type:"AUTH_FAIL"}},U=function(){var e=localStorage.getItem("token"),t={headers:{"Content-type":"application/json"}};return e&&(t.headers["x-auth-token"]=e),t},H=function(){return function(){var e=Object(C.a)(S.a.mark(function e(t){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:_.a.get("/api/recipes").then(function(e){return t({type:"FETCH_RECIPES",payload:e.data})});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},z=function(e){return function(){var t=Object(C.a)(S.a.mark(function t(a){var n;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.a.get("/api/recipes/".concat(e));case 2:n=t.sent,a({type:"FETCH_RECIPE",payload:n.data});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()};var B=Object(o.b)(null,{rateRecipe:function(e,t){return function(){var a=Object(C.a)(S.a.mark(function a(n){var r;return S.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_.a.patch("/api/recipes/".concat(e,"/rating"),t);case 2:r=a.sent,n({type:"RATE_RECIPE",payload:r.data});case 4:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()}})(function(e){var t=e.id,a=e.rating,n=e.rateRecipe,c=a.length?a.reduce(function(e,t){return e+t})/a.length:0,l=r.a.useState(c),i=Object(N.a)(l,2),o=i[0],s=i[1];return r.a.createElement("div",{className:"star-rating"},r.a.createElement(R.a,{name:"stars-rating",value:o,starCount:5,onStarClick:function(e){a.push(e),n(t,a)},onStarHover:function(e,t,a){s(e)},onStarHoverOut:function(e,t,a){s(c)},starColor:"#ffb400",emptyStarColor:"#333"}))}),q=a(13),G=a(33);var J=Object(o.b)(null,{deleteRecipe:function(e){return function(){var t=Object(C.a)(S.a.mark(function t(a){return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.a.delete("/api/recipes/".concat(e),U());case 2:a({type:"DELETE_RECIPE",payload:e}),x.push("/");case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}})(function(e){var t=e.deleteRecipe,a=e.id,n=e.title;return r.a.createElement(G.a,Object.assign({},e,{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(G.a.Body,{closeButton:!0,style:{borderBottom:"none",padding:"2rem 2.5rem"}},r.a.createElement("h5",null,"Are you sure you want to delete ".concat(n," recipe?"))),r.a.createElement(G.a.Footer,{style:{borderTop:"none",padding:"1rem 2rem"}},r.a.createElement(q.a,{variant:"danger",onClick:function(){t(a)}},"Delete"),r.a.createElement(q.a,{variant:"secondary",onClick:e.onHide},"Cancel")))});var Z=function(e){var t=e.id,a=e.title,n=r.a.useState(!1),c=Object(N.a)(n,2),l=c[0],i=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"admin-btns d-flex justify-content-center"},r.a.createElement(h.a,{to:"/recipe/edit/".concat(t),className:"btn btn-secondary mr-2 px-4"},"Edit"),r.a.createElement(q.a,{variant:"dark",className:"px-3",onClick:function(){return i(!0)}},"Delete")),r.a.createElement(J,{id:t,title:a,show:l,onHide:function(){return i(!1)}}))};var M=Object(o.b)(function(e,t){return{auth:e.auth}})(function(e){var t=e.recipe,a=e.auth,n=t._id,c=t.title,l=t.rating,i=t.ingredients,o=t.authorId,s=t.authorName,u=t.create_date,m=t.update_date;return r.a.createElement("div",{className:"recipe-card paper-bg"},r.a.createElement("div",{className:"recipe-content"},r.a.createElement(h.a,{to:"/recipe/".concat(n)},r.a.createElement(y,{title:c})),r.a.createElement(B,{rating:l,id:n}),r.a.createElement(g,{createDate:u,updateDate:m,authorName:s}),r.a.createElement(v,null),r.a.createElement(b,{ingredients:i}),a.user&&0===a.user.id.localeCompare(o)?r.a.createElement(r.a.Fragment,null,r.a.createElement(v,null),r.a.createElement(Z,{id:n,title:c})):null))});var Y=Object(o.b)(function(e){return{recipes:Object.values(e.recipes)}},{fetchRecipes:H})(function(e){var t=e.fetchRecipes,a=e.recipes;return r.a.useEffect(function(){t()},[]),r.a.createElement("section",{className:"recipes-list"},r.a.createElement(d.a,null,r.a.createElement(p.a,{className:"justify-content-md-center"},r.a.createElement(E.a,{xs:!0,xl:"6",lg:"8",md:"10"},a?a.map(function(e){return r.a.createElement(M,{recipe:e,key:e._id})}):null))))});var V=function(){return r.a.createElement("main",null,r.a.createElement(f,null),r.a.createElement(Y,null))},X=a(54),$=a.n(X);var K=Object(o.b)(function(e,t){return{auth:e.auth}})(function(e){var t=e.recipe,a=e.auth,n=t._id,c=t.title,l=t.rating,i=t.ingredients,o=t.authorId,s=t.authorName,u=t.create_date,m=t.update_date;return r.a.createElement("div",{className:"recipe-card paper-bg"},r.a.createElement("div",{className:"recipe-content"},r.a.createElement(h.a,{to:"/recipe/".concat(n)},r.a.createElement(y,{title:c})),r.a.createElement(B,{rating:l,id:n}),r.a.createElement(g,{createDate:u,updateDate:m,authorName:s}),r.a.createElement(v,null),r.a.createElement(b,{ingredients:i}),a.user&&0===a.user.id.localeCompare(o)?r.a.createElement(r.a.Fragment,null,r.a.createElement(v,null),r.a.createElement(Z,{id:n,title:c})):null))});var Q=Object(o.b)(function(e){return{auth:e.auth,recipes:Object.values(e.recipes)}},{fetchRecipes:H})(function(e){var t=e.fetchRecipes,a=e.recipes,n=e.auth;return r.a.useEffect(function(){t()},[]),r.a.createElement("section",{className:"recipes-list"},r.a.createElement(d.a,null,r.a.createElement(p.a,{className:"justify-content-md-center"},r.a.createElement(E.a,{xs:!0,xl:"6",lg:"8",md:"10"},a&&n.user?function(){var e=a.filter(function(e){return e.authorId==n.user.id});return e.sort(function(e,t){return e.rating.length<t.rating.length?1:-1}),e.map(function(e){return r.a.createElement(K,{recipe:e,key:e._id})})}():null))))});var W=function(){return r.a.createElement("main",null,r.a.createElement(Q,null))},ee=a(15),te=a(290),ae=a(291),ne=a(289),re=function(e){console.log(e);var t={};return e.title||(t.title="You must provide a title"),e.description||(t.description="You must provide a description"),e.ingredients&&e.ingredients.length&&e.ingredients[0]||(t.ingredients={_error:"At least one ingredient must be provided"}),e.instructions&&e.instructions.length&&e.instructions[0]||(t.instructions={_error:"At least one instruction must be provided"}),t},ce=Object(ne.a)({form:"createRecipeForm",validate:re})(function(e){var t=function(e){var t=e.touched,a=e.error,n=e.submitFailed,c=e.dirty;return t&&a||c&&a||n&&a?r.a.createElement("div",{className:"error-message"},a):null},a=function(e){var t=e.input,a=e.label,n=e.type;return e.meta,r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a.Control,Object.assign({className:"ingredients-input-field"},t,{type:n,placeholder:a})))},n=function(e){var t=e.input,a=e.label,n=e.type;return e.meta,r.a.createElement(r.a.Fragment,null,r.a.createElement("textarea",Object.assign({className:"instructions-input-field form-control"},t,{type:n,placeholder:a})))},c=e.handleSubmit,l=e.pristine,i=e.reset,o=e.submitting;return r.a.createElement("form",{onSubmit:c(function(t){var a=t;for(var n in a)Array.isArray(a[n])&&(a[n]=a[n].filter(function(e){return void 0!==e}));e.onSubmit(t)})},r.a.createElement(te.a,{name:"title",type:"text",component:function(e){var a=e.input,n=e.label,c=e.type,l=e.meta;return r.a.createElement("div",null,r.a.createElement(ee.a.Label,null,n),r.a.createElement(ee.a.Control,Object.assign({},a,{type:c,placeholder:n})),t(l))},label:"Recipe Name"}),r.a.createElement("br",null),r.a.createElement(te.a,{name:"description",type:"textarea",component:function(e){var a=e.input,n=e.label,c=e.type,l=e.meta;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a.Label,null,n),r.a.createElement("textarea",Object.assign({className:"description-input-field form-control"},a,{type:c,placeholder:n})),t(l))},label:"Recipe Description"}),r.a.createElement(ae.a,{name:"ingredients",component:function(e){var n=e.fields,c=e.meta;return r.a.createElement("div",{className:"form-add-multiple"},r.a.createElement(ee.a.Label,null,"Add ingredients:"),r.a.createElement("ul",null,n.map(function(e,t){return r.a.createElement("li",{key:t,className:"d-flex align-items-center"},r.a.createElement(te.a,{name:e,type:"text",component:a,label:"Ingedient  ".concat(t+1)}),r.a.createElement(q.a,{className:"delete-btn align-self-stretch",size:"sm",variant:"danger",type:"button",title:"Remove Ingredient",onClick:function(){return n.remove(t)}},r.a.createElement("i",{className:"fas fa-trash-alt"})))}),r.a.createElement("li",null,r.a.createElement(q.a,{className:"mt-1",size:"sm",variant:"secondary",type:"button",onClick:function(){return n.push()}},r.a.createElement("i",{className:"plus-icon fas fa-plus"})," Add ingredient"),t(c))))}}),r.a.createElement(ae.a,{name:"instructions",component:function(e){var a=e.fields,c=e.meta;return r.a.createElement("div",{className:"form-add-multiple"},r.a.createElement(ee.a.Label,null,"Add instructions:"),r.a.createElement("ul",null,a.map(function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(te.a,{name:e,type:"textarea",component:n,label:"Step ".concat(t+1)}),r.a.createElement(q.a,{className:"align-self-stretch mt-1",size:"sm",variant:"danger",type:"button",title:"Remove Step",onClick:function(){return a.remove(t)}},r.a.createElement("i",{className:"plus-icon fas fa-trash-alt"})," Remove"))}),r.a.createElement("li",null,r.a.createElement(q.a,{className:"mt-1",variant:"secondary",sm:2,size:"sm",type:"button",onClick:function(){return a.push()}},r.a.createElement("i",{className:"plus-icon fas fa-plus"})," Add instruction"),t(c))))}}),r.a.createElement("hr",null),r.a.createElement("div",{className:"submit-btnd-group"},r.a.createElement(q.a,{style:{marginRight:"1rem"},variant:"dark",type:"submit",disabled:o},"Submit"),r.a.createElement(q.a,{variant:"outline-dark",type:"button",disabled:l||o,onClick:i},"Clear Values")))});var le=function(e){var t=e.children;return r.a.createElement("main",{className:"recipe-container"},r.a.createElement(d.a,null,r.a.createElement(p.a,{className:"justify-content-md-center"},r.a.createElement(E.a,{md:10,lg:8},r.a.createElement("div",{className:"form-recipe"},t)))))};var ie=Object(o.b)(function(e,t){return{user:e.auth.user}},{createRecipe:function(e,t){var a=t.id,n=t.name;return function(t){_.a.post("/api/recipes",Object(j.a)({},e,{authorId:a,authorName:n,create_date:Date.now()}),U()).then(function(e){t({type:"CREATE_RECIPE",payload:e.data}),x.push("/recipe/".concat(e.data._id))}).catch(function(e){e.response?console.log(e.response):e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config)})}}})(function(e){var t=e.createRecipe,a=e.user;return r.a.createElement(le,null,r.a.createElement("h2",null,"Add a new recipe:"),r.a.createElement(ce,{onSubmit:function(e){if(void 0!==a){var n=a.id,r=a.name;t(e,{id:n,name:r})}}}))});var oe=function(e){var t=e.description;return r.a.createElement("div",{className:"ingredients"},r.a.createElement("h4",null,"Description:"),r.a.createElement("p",null,t))};var se=function(e){var t=e.instructions;return r.a.createElement("div",{className:"instructions"},r.a.createElement("h4",null,"Instructions:"),r.a.createElement("ul",{className:"instructions-list"},t.map(function(e,t){return r.a.createElement("li",{key:t,className:"instructions-item"},r.a.createElement("span",{className:"step-number"},t+1),r.a.createElement("span",{className:"step-text"},e))})))},ue=a(283),me=a(284),de=a(285),pe=a(286),Ee=a(287),fe=a(288),he=function(e){var t=e.url;return r.a.createElement("div",{style:{padding:10}},r.a.createElement(ue.a,{url:t},r.a.createElement(me.a,{size:32,round:!0})),r.a.createElement(de.a,{url:t},r.a.createElement(pe.a,{size:32,round:!0})),r.a.createElement(Ee.a,{url:t},r.a.createElement(fe.a,{size:32,round:!0})))};var ve=Object(o.b)(function(e,t){return{recipe:e.recipes[t.match.params.id],auth:e.auth}},{fetchRecipe:z})(function(e){var t=e.match,a=e.fetchRecipe,n=e.recipe,c=e.auth;return r.a.useEffect(function(){window.scrollTo(0,0);var e=t.params.id;a(e)},[]),r.a.createElement("main",{className:"show-recipe-container"},r.a.createElement(d.a,null,n?function(){var e=n._id,t=n.title,a=n.rating,l=n.ingredients,i=n.authorId,o=n.authorName,s=n.create_date,u=n.update_date,m=n.instructions,d=n.description;return r.a.createElement("div",{className:"show-recipe paper-bg"},r.a.createElement(y,{title:t}),r.a.createElement(B,{id:e,rating:a}),c.user&&0===c.user.id.localeCompare(i)?r.a.createElement(Z,{id:e,title:t}):null,r.a.createElement(p.a,{className:"justify-content-md-center"},r.a.createElement(he,{url:window.location.href})),r.a.createElement(p.a,{className:"justify-content-md-center"},r.a.createElement(E.a,{md:"8"},r.a.createElement(g,{createDate:s,updateDate:u,authorName:o,style:{marginTop:"2rem"}}),r.a.createElement(v,null))),r.a.createElement(oe,{description:d}),r.a.createElement(b,{ingredients:l}),r.a.createElement(se,{instructions:m}))}():null))});var ge=Object(o.b)(function(e,t){return{recipe:e.recipes[t.match.params.id]}},{updateRecipe:function(e,t){return function(){var a=Object(C.a)(S.a.mark(function a(n){var r;return S.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_.a.patch("/api/recipes/".concat(e),Object(j.a)({},t,{update_date:Date.now()}),U());case 2:r=a.sent,n({type:"UPDATE_RECIPE",payload:r.data}),x.push("/recipe/".concat(e));case 5:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},fetchRecipe:z})(function(e){var t=e.updateRecipe,a=e.fetchRecipe,n=e.match,c=e.recipe,l=n.params.id;return r.a.useEffect(function(){a(l)},[]),console.log("RECIPE",c),r.a.createElement(le,null,r.a.createElement("h2",null,"Edit the recipe:"),c&&r.a.createElement(ce,{initialValues:Object(X.pick)(c,"title","ingredients","instructions","description"),onSubmit:function(e){t(l,e)}}))});var be=function(){return r.a.createElement("main",null,"User")},ye=a(71),Ne=a(94),Oe=a(145),Re=a.n(Oe),je=a(87),we=a(88),Se=a(92),Ce=a(90),ke=a(63);var _e=Object(o.b)(function(e){return{msg:e.error.msg}},{clearErrors:D})(function(e){var t=e.input,a=e.label,n=e.type,c=e.meta,l=c.touched,i=c.error,o=e.msg,s=e.clearErrors;return r.a.createElement(ee.a.Group,{className:"mb-3"},r.a.createElement(ee.a.Label,{className:"mb-1"},a),r.a.createElement(ee.a.Control,Object.assign({},t,{placeholder:a,type:n,onFocus:s})),l&&i&&r.a.createElement(ee.a.Text,{className:"error-message"},i),o&&o.field===a?r.a.createElement(ee.a.Text,{className:"error-message"},o.msg):null)});function Ae(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(ke.a)(e);if(t){var r=Object(ke.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(Ce.a)(this,a)}}var xe=function(e){Object(Se.a)(a,e);var t=Ae(a);function a(){var e;Object(je.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onSubmit=function(t){e.props.login(t)},e}return Object(we.a)(a,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,a=e.submitting;return r.a.createElement(ee.a,{onSubmit:t(this.onSubmit)},r.a.createElement(te.a,{name:"email",type:"email",component:_e,label:"Email"}),r.a.createElement(te.a,{name:"password",type:"password",component:_e,label:"Password"}),r.a.createElement("div",null,r.a.createElement(q.a,{type:"submit",disabled:a,variant:"dark",className:"mt-4",block:!0},"Log In")))}}]),a}(r.a.Component),Te=Object(ne.a)({form:"loginForm",validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="This field is required!",e.password||(t.password="This field is required!"),t}})(xe),Ie=Object(o.b)(null,{login:function(e){var t=e.email,a=e.password;return function(e){var n=JSON.stringify({email:t,password:a});_.a.post("/api/users/login",n,{headers:{"Content-Type":"application/json"}}).then(function(t){var a=t.data.token;localStorage.setItem("token",a),e({type:"CLEAR_ERRORS"}),e(P())}).catch(function(t){e(L(t.response.data)),e({type:"LOGIN_SUCCESS"})})}}})(Te);function Le(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(ke.a)(e);if(t){var r=Object(ke.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(Ce.a)(this,a)}}var De=function(e){Object(Se.a)(a,e);var t=Le(a);function a(){var e;Object(je.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onSubmit=function(t){e.props.register(t)},e}return Object(we.a)(a,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,a=e.submitting;return r.a.createElement(ee.a,{onSubmit:t(this.onSubmit)},r.a.createElement(te.a,{name:"name",type:"text",component:_e,label:"Name"}),r.a.createElement(te.a,{name:"email",type:"email",component:_e,label:"Email"}),r.a.createElement(te.a,{name:"password",type:"password",component:_e,label:"Password"}),r.a.createElement(te.a,{name:"password2",type:"password",component:_e,label:"Repeat password"}),r.a.createElement("div",null,r.a.createElement(q.a,{type:"submit",variant:"dark",className:"mt-4",block:!0,disabled:a},"Register")))}}]),a}(r.a.Component),Fe=Object(ne.a)({form:"registerForm",validate:function(e){var t={};return e.name||(t.name="This field is required!"),e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="This field is required!",e.password?e.password.length<6&&(t.password="The password must be at least 6 characters long!"):t.password="This field is required!",e.password2?e.password!==e.password2&&(t.password2="The passwords does not match"):t.password2="This field is required!",t}})(De),Pe=Object(o.b)(null,{register:function(e){var t=e.name,a=e.email,n=e.password;return function(e){var r=JSON.stringify({name:t,email:a,password:n});_.a.post("/api/users/register",r,{headers:{"Content-Type":"application/json"}}).then(function(t){var a=t.data.token;localStorage.setItem("token",a),e({type:"CLEAR_ERRORS"}),e(P())}).catch(function(t){e(L(t.response.data)),e({type:"REGISTER_SUCCESS"})})}}})(Fe);var Ue=Object(o.b)(null,{clearErrors:D})(function(e){var t=e.show,a=e.onHide,n=e.clearErrors,c=r.a.useState("login"),l=Object(N.a)(c,2),i=l[0],o=l[1];return r.a.createElement(G.a,{show:t,onHide:a,size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"text-align-center"},r.a.createElement(G.a.Header,{closeButton:!0},r.a.createElement(G.a.Title,{id:"contained-modal-title-vcenter",className:"text-align-center modal-title"},"Log in to share your recipe with the world")),r.a.createElement(G.a.Body,{className:"py-4"},"register"===i?r.a.createElement(Pe,null):r.a.createElement(Ie,null)),r.a.createElement(G.a.Footer,{className:"justify-content-center auth-modal-footer"},"register"===i?"Already have an account?":"Don't have an account?",r.a.createElement(q.a,{variant:"link",size:"sm",onClick:function(){"login"===i?o("register"):"register"===i&&o("login"),n()}},"register"===i?"Log in":"Register now")))});var He=Object(o.b)(function(e){return{auth:e.auth}},{getUser:function(){return function(e){e(P())}},logout:function(){return localStorage.removeItem("token"),F(!1),{type:"LOGOUT_USER"}},clearErrors:D})(function(e){var t=e.auth,a=e.getUser,n=e.logout,c=e.clearErrors,l=r.a.useState(!1),i=Object(N.a)(l,2),o=i[0],s=i[1];r.a.useEffect(function(){a()},[]);var u=function(){s(!1),c()};return r.a.useEffect(function(){t.isAuthenticated&&u()},[t]),r.a.createElement("header",null,r.a.createElement(ye.a,{bg:"light",expand:"lg"},r.a.createElement(ye.a.Brand,{href:"/"},r.a.createElement("img",{className:"nav-logo",src:Re.a,alt:"Your Recipe Logo"})),r.a.createElement(ye.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(ye.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(Ne.a,{className:"ml-auto"},t.isAuthenticated?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne.a.Link,{href:"/recipe/create",className:"nav-link"},r.a.createElement("i",{className:"fas fa-plus"})," Add New Recipe"),r.a.createElement(Ne.a.Link,{href:"/recipe/rank",className:"nav-link"},r.a.createElement("i",{className:"fas fa-user"})," ","".concat(t.user.name,"'s Rank Recipes")),r.a.createElement(q.a,{variant:"dark",onClick:n},"Log Out")):r.a.createElement(q.a,{variant:"dark",onClick:function(){return s(!0)}},"Log In")))),r.a.createElement(Ue,{show:o,onHide:u}))});var ze=function(){return r.a.createElement("main",null,r.a.createElement("div",{style:{padding:"5vw 10vh"}},r.a.createElement("h1",null,"Looks like the page you are looking for does not exit.")))};a(279);var Be=function(){return r.a.createElement(u.b,{history:x},r.a.createElement(r.a.Fragment,null,r.a.createElement(He,null),r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/",exact:!0,component:V}),r.a.createElement(u.a,{path:"/recipe/create",component:ie}),r.a.createElement(u.a,{path:"/recipe/rank",exact:!0,component:W}),r.a.createElement(u.a,{path:"/recipe/edit/:id",exact:!0,component:ge}),r.a.createElement(u.a,{path:"/recipe/:id",exact:!0,component:ve}),r.a.createElement(u.a,{path:"/user/:id",component:be}),r.a.createElement(u.a,{path:"/",component:ze}))))},qe=a(292),Ge={isAuthenticated:!1,user:null},Je=a(61),Ze=Object(i.c)({recipes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_RECIPE":case"RATE_RECIPE":case"FETCH_RECIPE":case"CREATE_RECIPE":return Object(j.a)({},e,Object(Je.a)({},t.payload._id,t.payload));case"DELETE_RECIPE":return $.a.omit(e,t.payload);case"FETCH_RECIPES":return Object(j.a)({},e,$.a.mapKeys(t.payload,"_id"));default:return e}},form:qe.a,error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{msg:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return Object(j.a)({},e,{msg:Object(j.a)({},t.payload)});case"CLEAR_ERRORS":return Object(j.a)({},e,{msg:{}});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_SUCCESS":return Object(j.a)({},e,{user:Object(j.a)({},t.payload),isAuthenticated:!0});case"LOGIN_SUCCESS":case"REGISTER_SUCCESS":case"AUTH_FAIL":case"LOGOUT_USER":return Object(j.a)({},e,{user:null,isAuthenticated:!1});default:return e}}}),Me=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,Ye=Object(i.e)(Ze,Me(Object(i.a)(s.a)));l.a.render(r.a.createElement(o.a,{store:Ye},r.a.createElement(Be,null)),document.querySelector("#root"))}},[[147,1,2]]]);
//# sourceMappingURL=main.8bef69eb.chunk.js.map